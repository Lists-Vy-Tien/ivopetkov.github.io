/*
 * Responsively Lazy
 * http://ivopetkov.com/b/lazy-load-responsive-images/
 * Copyright 2015-2016, Ivo Petkov
 * Free to use under the MIT license.
*/
responsivelyLazy=function(){var c=!0,v=!1,f=null,t=null,w=function(a){if(null===f)return!1;var m=a.getBoundingClientRect();a=m.top;var q=m.left,b=m.width,m=m.height;return a<t&&0<a+m&&q<f&&0<q+b},x=function(){var a=function(a,q){for(var b=a.length,c=0;c<b;c++){var n=a[c],h=q?n:n.parentNode;if(w(h)){var g=n.getAttribute("data-srcset");if(null!==g){for(var g=g.split(","),p=[],f=g.length,l=0;l<f;l++){var d=g[l].trim(),k=d.lastIndexOf(" ");if(-1===k)var e=d,d=999998;else e=d.substr(0,k),d=parseInt(d.substr(k+
1,d.length-k-2),10);k=!1;-1!==e.indexOf(".webp",e.length-5)?v&&(k=!0):k=!0;k&&p.push([e,d])}p.sort(function(a,b){if(a[1]<b[1])return-1;if(a[1]>b[1])return 1;if(a[1]===b[1]){if(-1!==b[0].indexOf(".webp",b[0].length-5))return 1;if(-1!==a[0].indexOf(".webp",a[0].length-5))return-1}return 0});g=p}else g=[];p=h.offsetWidth*window.devicePixelRatio;e=null;f=g.length;for(l=0;l<f;l++)if(d=g[l],d[1]>=p){e=d;break}null===e&&(e=[n.getAttribute("src"),999999]);"undefined"===typeof h.lastSetOption&&(h.lastSetOption=
["",0]);h.lastSetOption[1]<e[1]&&(function(a,b,d,e){var c=new Image;c.addEventListener("load",function(){b.setAttribute("srcset",d);if(e){var c=a.getAttribute("data-onlazyload");null!==c&&(new Function(c)).bind(a)()}},!1);c.addEventListener("error",function(){a.lastSetOption=["",0]},!1);c.src=d}(h,n,e[0],0===h.lastSetOption[1]),h.lastSetOption=e.slice(0))}}};a(document.querySelectorAll(".responsively-lazy > img"),!1);a(document.querySelectorAll("img.responsively-lazy"),!0)},u=function(){c=!0},y=function(){for(var a=
document.querySelectorAll(".responsively-lazy"),c=a.length,f=0;f<c;f++)for(var b=a[f].parentNode;b&&"html"!==b.tagName.toLowerCase();)"undefined"===typeof b.responsivelyLazyAttached&&(b.responsivelyLazyAttached=!0,b.addEventListener("scroll",u)),b=b.parentNode};if("srcset"in document.createElement("img")&&"undefined"!==typeof window.devicePixelRatio&&"undefined"!==typeof window.addEventListener&&"undefined"!==typeof document.querySelectorAll){var A=window.requestAnimationFrame||window.webkitRequestAnimationFrame||
window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)},z=function(){c&&(c=!1,x());A.call(null,z)},r=new Image;r.src="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoCAAEADMDOJaQAA3AA/uuuAAA=";r.onload=r.onerror=function(){v=2===r.width;f=window.innerWidth;t=window.innerHeight;z();var a=function(){window.addEventListener("resize",function(){f=window.innerWidth;t=window.innerHeight;c=!0});window.addEventListener("scroll",u);window.addEventListener("load",u);y();"undefined"!==
typeof MutationObserver&&(new MutationObserver(function(){y();c=!0})).observe(document.querySelector("body"),{childList:!0,subtree:!0})};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a):a()}}return{run:x,isVisible:w}}();