/*
 * Responsively Lazy
 * http://ivopetkov.com/b/lazy-load-responsive-images/
 * Copyright 2015-2016, Ivo Petkov
 * Free to use under the MIT license.
*/
responsivelyLazy=function(){var d=!0,v=!1,c=null,t=null,w=function(a){if(null===c)return!1;var l=a.getBoundingClientRect();a=l.top;var q=l.left,b=l.width,l=l.height;return a<t&&0<a+l&&q<c&&0<q+b},x=function(){var a=function(a,q){for(var b=a.length,d=0;d<b;d++){var n=a[d],m=q?n:n.parentNode;if(w(m)){var g=n.getAttribute("data-srcset");if(null!==g){for(var g=g.split(","),p=[],c=g.length,k=0;k<c;k++){var e=g[k].trim(),h=e.lastIndexOf(" ");if(-1===h)var f=e,e=999998;else f=e.substr(0,h),e=parseInt(e.substr(h+
1,e.length-h-2),10);h=!1;-1!==f.indexOf(".webp",f.length-5)?v&&(h=!0):h=!0;h&&p.push([f,e])}p.sort(function(a,b){if(a[1]<b[1])return-1;if(a[1]>b[1])return 1;if(a[1]===b[1]){if(-1!==b[0].indexOf(".webp",b[0].length-5))return 1;if(-1!==a[0].indexOf(".webp",a[0].length-5))return-1}return 0});g=p}else g=[];p=m.offsetWidth*window.devicePixelRatio;f=null;c=g.length;for(k=0;k<c;k++)if(e=g[k],e[1]>=p){f=e;break}null===f&&(f=[n.getAttribute("src"),999999]);"undefined"===typeof m.lastSetOption&&(m.lastSetOption=
["",0]);m.lastSetOption[1]<f[1]&&(m.lastSetOption=f,n.setAttribute("srcset",f[0]))}}};a(document.querySelectorAll(".responsively-lazy > img"),!1);a(document.querySelectorAll("img.responsively-lazy"),!0)},u=function(){d=!0},y=function(){for(var a=document.querySelectorAll(".responsively-lazy"),d=a.length,c=0;c<d;c++)for(var b=a[c].parentNode;b&&"html"!==b.tagName.toLowerCase();)"undefined"===typeof b.responsivelyLazyAttached&&(b.responsivelyLazyAttached=!0,b.addEventListener("scroll",u)),b=b.parentNode};
if("srcset"in document.createElement("img")&&"undefined"!==typeof window.devicePixelRatio&&"undefined"!==typeof window.addEventListener&&"undefined"!==typeof document.querySelectorAll){var A=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)},z=function(){d&&(d=!1,x());A.call(null,z)},r=new Image;r.src="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoCAAEADMDOJaQAA3AA/uuuAAA=";r.onload=r.onerror=function(){v=
2===r.width;c=window.innerWidth;t=window.innerHeight;z();var a=function(){window.addEventListener("resize",function(){c=window.innerWidth;t=window.innerHeight;d=!0});window.addEventListener("scroll",u);window.addEventListener("load",u);y();"undefined"!==typeof MutationObserver&&(new MutationObserver(function(){y();d=!0})).observe(document.querySelector("body"),{childList:!0,subtree:!0})};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a):a()}}return{run:x,isVisible:w}}();